name: contribute-on-discussion

on:
  discussion:
    types: [created]
jobs:
  discussion_created:
    runs-on: ubuntu-latest
    if: github.event.discussion && !github.event.comment && github.event.discussion.category.name == 'Í∏∞Í≥†Ï±ÑÎÑê'
    steps:
      - run: |
          curl --location --request POST ${{ secrets.SLACK_WEBHOOK_URL }} --header 'Content-Type: application/json' --data-raw '{
            "attachments": [
              {
                "pretext": "üí° ÏÉàÎ°úÏö¥ Í∏∞Í≥† #${{ github.event.discussion.number }}\n\n  ",
                "title": "${{ github.event.discussion.title }}",
                "title_link": "${{ github.event.discussion.html_url }}",
                "color": "blue",
                "fields": [
                  {
                    "title": "",
                    "value": "",
                    "short": true
                  },
                  {
                    "title": "",
                    "value": "",
                    "short": true
                  },
                  {
                    "title": "üë§ Í∏∞Í≥†Ïûê",
                    "value": "${{ github.event.discussion.user.login }}",
                    "short": true
                  },
                  {
                    "title": "",
                    "value": "",
                    "short": true
                  },
                  {
                    "title": "",
                    "value": "",
                    "short": true
                  },
                  {
                    "title": "",
                    "value": "",
                    "short": true
                  },
                  {
                    "title": "üìù Í∏∞Í≥†ÎÇ¥Ïö©",
                    "value": "${{ github.event.discussion.body }}",
                    "short": false
                  }
                ]
              }
            ]
          }
          '

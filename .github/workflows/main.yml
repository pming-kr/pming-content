name: contribute-on-discussion

on:
  discussion:
    types: [created]
jobs:
  discussion_created:
    runs-on: ubuntu-latest
    if: github.event.discussion && !github.event.comment && github.event.discussion.category.name == 'ê¸°ê³ ì±„ë„'
    steps:
      - run: |
          curl --location --request POST ${{ secrets.SLACK_WEBHOOK_URL }} --header 'Content-Type: application/json' --data-raw '{
            "attachments": [
              {
                "pretext": "ğŸ’¡ ìƒˆë¡œìš´ ê¸°ê³  #${{ github.event.discussion.number }} ğŸ’¡\n\n${{ github.event.discussion.lastEditedAt }}",
                "title": "${{ github.event.discussion.title }}",
                "title_link": "${{ github.event.discussion.html_url }}",
                "color": "green",
                "fields": [
                  {
                    "title": "ğŸ‘¤ ê¸°ê³ ì",
                    "value": "${{ github.event.discussion.author.login }}",
                    "short": true
                  },
                  {
                    "title": "",
                    "value": "",
                    "short": true
                  },
                  {
                    "title": "ğŸ“ ê¸°ê³ ë‚´ìš©",
                    "value": "${{ github.event.discussion.body }}",
                    "short": false
                  }
                ]
              }
            ]
          }
          '
